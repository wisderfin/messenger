# Используем базовый образ Python
FROM python:3.11-slim

# Устанавливаем рабочую директорию
WORKDIR /app

# Устанавливаем зависимости
RUN pip install --no-cache-dir alembic asyncpg sqlalchemy pydantic pydantic-settings


# Копируем код приложения
COPY ../app/core ./app/core
COPY ../app/domain/models ./app/domain/models
COPY ../migrations ./migrations
COPY ../.env ./.env
COPY ../alembic.ini ./alembic.ini
